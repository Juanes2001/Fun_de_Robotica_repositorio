/*
 * MPUAccel.c
 *
 *  Created on: 26/11/2022
 *      Author: ALEJANDRA MARIA
 */

#include "MPUAccel.h"
#include "I2CDriver.h"
#include "GPIOxDriver.h"


void configMPUAccel (MPUAccel_Config *ptrMPUAccel){

	// Paso 1 se configuran los pines GPIO y el perisferico I2C respectivo para poder configurar a partir del
	//MCU el sensor, se tiene en cuenta tanto la lectura del pin SDA como el SCL

	GPIO_Config(ptrMPUAccel->ptrGPIOhandler);
	i2c_config(ptrMPUAccel->ptrI2Chandler);


	// Paso 2 Inicializamos correctamente el acelerometro usando la comunicacion con este y sus registros.



}


void initMPU (MPUAccel_Config *ptrMPUAccel){



}

// En esta funcion escribimos la secuencia para escritura propia del MCU
void writeData (MPUAccel_Config *ptrMPUAccel, uint8_t RA, uint8_t data){

	//Comenzamos la transacciÃ³n
	i2c_startTransaction (ptrMPUAccel->ptrI2Chandler);

	//Mandamos el Address correspondiente y el bit escribir
	i2c_sendSlaveAddressRW(ptrMPUAccel->ptrI2Chandler, ADDRESS_DOWN, I2C_WRITE_DATA);

	// Esperamos el Acknowledge que debe de mandar el Slave
	while (ptrMPUAccel->ptrI2Chandler->ptrI2Cx->SR1 & ){
		__NOP();
	}


}

// En esta funcion escribimos la secuencia para lectura propia del MCU
uint8_t readData (MPUAccel_Config *ptrMPUAccel, uint8_t RA){





}
